<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Margaillan</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');
    </style> 
</head>
<body style="margin: 0; min-height: 100vh; display: flex; justify-content: center; align-items: center; font-family: 'Roboto', sans-serif;" id="body">
    <h1 id="title">Margaillan</h1>
    <p style="position: absolute; bottom: 20px; right: 20px;" id="counter">0</p>
    <script>
        var run = true;
        var tid = setInterval(update, 10);
        var count = 0;

        function getRandomInt(max) {
            return Math.floor(Math.random() * max);
        }

        function margaillan(size) {
            g = ["ui", "a", "ai", "ea", "ou", "i", "an", "ue", "oui", "e"]
            l = ["", "l"]
            // mar {g{ui, a, ou, i, an, ai, ue}, {ll,l}} an
            if (size%2 != 0) {size += 1}
            output = "Mar"
            for (i=0; i<size; ++i) {
                if (i%2 == 0) {
                    output += "g";
                    output += g[Math.floor(Math.random() * g.length)];
                } else {
                    output += "l";
                    output += l[Math.floor(Math.random() * l.length)]
                }
                console.log(i);
            }
            output += "an";
            return output;
        }

        function click() {
            if (run) {
                clearInterval(tid);
                run = false;
            }
            update();
        }

        function update() {
            marg = margaillan(getRandomInt(10));
            count += 1
            if (marg == "Margaillan") {document.body.style.backgroundColor = "green"; clearInterval(tid); run = false;}
            document.title = marg;
            document.getElementById("title").innerHTML = marg;
            document.getElementById("counter").innerHTML = count;
        }

        document.body.addEventListener("click", click); 
    </script>
</body>
</html>